@import "tailwindcss";
@import "@nuxt/ui";

/* ─── Design tokens ──────────────────────────────────── */

:root {
  --color-text: #fff;
  --color-bg: #000;
  --color-link: #61dca3;
  --color-link-hover: #fff;
  font-size: 18px;
}

/* ─── Base ───────────────────────────────────────────── */

body {
  color: var(--color-text);
  background-color: var(--color-bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-transform: uppercase;
  margin: 0;
  font-family: ballinger-mono, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
}

/* ─── Loading overlay ────────────────────────────────── */

.js .loading::before,
.js .loading::after {
  content: '';
  z-index: 1000;
  position: fixed;
}

.js .loading::before {
  width: 100%;
  height: 100%;
  background: var(--color-bg);
  top: 0;
  left: 0;
}

.js .loading::after {
  width: 60px;
  height: 60px;
  opacity: 0.4;
  background: var(--color-link);
  border-radius: 50%;
  margin: -30px 0 0 -30px;
  animation: 0.7s linear infinite alternate forwards loaderAnim;
  top: 50%;
  left: 50%;
}

@keyframes loaderAnim {
  to {
    opacity: 1;
    transform: scale(0.5);
  }
}

/* ─── Links ──────────────────────────────────────────── */

a {
  color: var(--color-link);
  cursor: pointer;
  outline: none;
  text-decoration: none;
  white-space: nowrap;
  position: relative;
  overflow: hidden;
}

a::before {
  content: '';
  height: 1px;
  width: 100%;
  transform-origin: 0%;
  background: currentColor;
  transition: transform 0.3s;
  position: absolute;
  top: 90%;
}

a:hover {
  color: var(--color-link-hover);
  outline: none;
}

a:hover::before {
  transform-origin: 100%;
  transform: scaleX(0);
}

a:focus {
  background: #d3d3d3;
  outline: none;
}

a:focus:not(:focus-visible) {
  background: none;
}

a:focus-visible {
  background: none;
  outline: 2px solid red;
}

/* ─── Splitting.js ───────────────────────────────────── */

.splitting .words .word {
  white-space: nowrap;
}

.splitting .word,
.splitting .char {
  display: inline-block;
}

.splitting .char {
  position: relative;
}

.splitting .char::before,
.splitting .char::after {
  content: attr(data-char);
  visibility: hidden;
  user-select: none;
  transition: inherit;
  position: absolute;
  top: 0;
  left: 0;
}

.splitting {
  --word-center: calc((var(--word-total) - 1) / 2);
  --char-center: calc((var(--char-total) - 1) / 2);
  --line-center: calc((var(--line-total) - 1) / 2);
}

.splitting .word {
  --word-percent: calc(var(--word-index) / var(--word-total));
  --line-percent: calc(var(--line-index) / var(--line-total));
}

.splitting .char {
  --char-percent: calc(var(--char-index) / var(--char-total));
  --char-offset: calc(var(--char-index) - var(--char-center));
  --distance: calc((var(--char-offset) * var(--char-offset)) / var(--char-center));
  --distance-sine: calc(var(--char-offset) / var(--char-center));
  --distance-percent: calc(var(--distance) / var(--char-center));
}

/* ─── Splitting.js cell grid ─────────────────────────── */

.splitting.cells img {
  width: 100%;
  display: block;
}

@supports (display: grid) {
  .splitting.cells {
    visibility: hidden;
    background-size: cover;
    position: relative;
    overflow: hidden;
  }

  .splitting .cell-grid {
    background: inherit;
    width: 100%;
    height: 100%;
    grid-template: repeat(var(--row-total), 1fr) / repeat(var(--col-total), 1fr);
    display: grid;
    position: absolute;
    top: 0;
    left: 0;
  }

  .splitting .cell {
    background: inherit;
    position: relative;
    overflow: hidden;
  }

  .splitting .cell-inner {
    background: inherit;
    visibility: visible;
    width: calc(100% * var(--col-total));
    height: calc(100% * var(--row-total));
    left: calc(-100% * var(--col-index));
    top: calc(-100% * var(--row-index));
    position: absolute;
  }

  .splitting .cell {
    --center-x: calc((var(--col-total) - 1) / 2);
    --center-y: calc((var(--row-total) - 1) / 2);
    --offset-x: calc(var(--col-index) - var(--center-x));
    --offset-y: calc(var(--row-index) - var(--center-y));
    --distance-x: calc((var(--offset-x) * var(--offset-x)) / var(--center-x));
    --distance-y: calc((var(--offset-y) * var(--offset-y)) / var(--center-y));
  }
}
